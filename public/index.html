<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Where is fish</title>
    <link rel="icon" href="img/favicon.ico?v=3" type="image/x-icon">
    <link rel="stylesheet" media="all" type="text/css" href="css/style.css">
</head>
<body>

<div id="app" ng-controller="AppController" ng-show="ammount != null" ng-cloak>

    <header id="header" class="wrapper">
        <h1 class="logo">Where is fish</h1>
        <h2 class="slogan">Where is fish: from fisher to fisher. We have {{ammount.total}} fishing spots for you.</h2>
        <nav class="tabs">
            <a ui-sref="spots">Search spot</a>
            <a ui-sref="add">Create spot</a>
            <a ui-sref="about">About</a>
        </nav>
    </header>

    <section id="main">

        <section ui-view></section>

        <section id="map" ng-controller="MapController">

            <ul class="location-controls wrapper">
                <li>
                    <h2>Let us know about your location</h2>
                    <a ng-click="getCurrentPosition()" class="geolocation go-link">Go!</a>
                </li>
                <li>
                    <div ng-if="geoResults == null">
                        <input type="text" class="address" placeholder="Or click here and type address" />
                        <a ng-click="inputAddress()" class="geocoding go-link">Go!</a>
                    </div>
                    <div ng-if="geoResults.length != null">
                        <div ng-if="geoResults.length > 0">
                            <h2>Search results:</h2>
                            <ul class="geocoding-results">
                                <li ng-repeat="res in geoResults">
                                    <a ng-click="renderMap(res.geometry.location)">{{ res.formatted_address }}</a>
                                </li>
                            </ul>
                        </div>
                        <h2 ng-if="geoResults.length == 0">Nothing found. Check address.</h2>
                        <a ng-click="resetSearch()">Search once again</a>
                    </div>
                </li>
            </ul>

        </section>

    </section>

</div>

<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDW3irgXC2Ogys9XTVV8oaJ6lXbpNTTap0" type="text/javascript"></script>
<script src="js/3p/requirejs/require.js" data-main="js/rconfig.js"></script>

</body>
</html>